services:
  mc-admin:
    build: .
    container_name: minecraft-admin
    restart: always
    network_mode: host
    env_file:
      - .env
    volumes:
      - /home/serveradmin/minecraft:/home/serveradmin/minecraft:rw
      # Mount systemd socket to control host services
      - /run/systemd:/run/systemd:ro
      - /var/run/dbus:/var/run/dbus:ro
    # Run as the same user as the host to avoid permission issues
    user: "1000:1000"
    # Note: Using network_mode: host will use the host's 3001 port directly.
    # Ensure the path /home/serveradmin/minecraft/logs is correct on your host machine.
